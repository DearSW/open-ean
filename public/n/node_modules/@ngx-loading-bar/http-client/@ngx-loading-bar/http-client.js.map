{"version":3,"file":"http-client.js","sources":["~/@ngx-loading-bar/http-client/src/http-client.ts","~/@ngx-loading-bar/http-client/src/http.module.ts","~/@ngx-loading-bar/http-client/src/loading-bar.interceptor.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {LoadingBarHttpClientModule} from './index';\n\nexport {LoadingBarInterceptor as Éµa} from './loading-bar.interceptor';","import { LoadingBarModule, LoadingBarService } from '@ngx-loading-bar/core';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { LoadingBarInterceptor } from './loading-bar.interceptor';\nexport class LoadingBarHttpClientModule {static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [\n    HttpClientModule,\n    LoadingBarModule.forRoot(),\n  ],\n  exports: [\n    HttpClientModule,\n    LoadingBarModule,\n  ],\n  providers: [\n    { provide: HTTP_INTERCEPTORS, useClass: LoadingBarInterceptor, multi: true },\n  ],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction LoadingBarHttpClientModule_tsickle_Closure_declarations() {\n/** @type {?} */\nLoadingBarHttpClientModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nLoadingBarHttpClientModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { LoadingBarService } from '@ngx-loading-bar/core';\nimport { Injectable } from '@angular/core';\nimport { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest, HttpEventType } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\nimport { _do } from 'rxjs/operator/do';\nimport { _finally } from 'rxjs/operator/finally';\nexport class LoadingBarInterceptor implements HttpInterceptor {\n/**\n * @param {?} loadingBar\n */\nconstructor(private loadingBar: LoadingBarService) {}\n/**\n * @param {?} req\n * @param {?} next\n * @return {?}\n */\nintercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    // https://github.com/angular/angular/issues/18155\n    const /** @type {?} */ meta = ( /** @type {?} */((req as any))).metadata || {};\n    if (meta && meta.ignoreLoadingBar === true) {\n      return next.handle(req);\n    }\n\n    let /** @type {?} */ started = false;\n\n    return _finally.call(_do.call(next.handle(req),\n      (event) => {\n        if (!started && event.type === HttpEventType.Sent) {\n          started = true;\n          this.loadingBar.start();\n        } else if (started && event.type === HttpEventType.Response) {\n          started = false;\n          this.loadingBar.complete();\n        }\n      },\n    ), () => started && this.loadingBar.complete());\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: LoadingBarService, },\n];\n}\n\nfunction LoadingBarInterceptor_tsickle_Closure_declarations() {\n/** @type {?} */\nLoadingBarInterceptor.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nLoadingBarInterceptor.ctorParameters;\n/** @type {?} */\nLoadingBarInterceptor.prototype.loadingBar;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":["_finally","_do"],"mappings":";;;;;;AEMA,MAAA,qBAAA,CAAA;;;;IAIA,WAAA,CADsB,UAAY,EAClC;QADsB,IAAtB,CAAA,UAAsB,GAAA,UAAA,CAAY;KAAkB;;;;;;IAOpD,SALG,CAAA,GAAA,EAAA,IAAA,EAKH;;QAEI,uBALM,IAAA,GAAO,EAAA,GAAQ,GAAK,QAAC,IAAW,EAAA,CAAG;QAMzC,IAAI,IALC,IAAO,IAAA,CAAK,gBAAC,KAAoB,IAAA,EAAM;YAM1C,OALO,IAAA,CAAK,MAAC,CAAM,GAAC,CAAG,CAAC;SAMzB;QAED,qBALI,OAAA,GAAU,KAAA,CAAM;QAOpB,OALOA,UAAA,CAAS,IAAC,CAAIC,KAAC,CAAG,IAAC,CAAI,IAAC,CAAI,MAAC,CAAM,GAAC,CAAG,EAM5C,CAAC,KALC,KAIR;YAEQ,IAAI,CALC,OAAC,IAAU,KAAA,CAAM,IAAC,KAAQ,aAAA,CAAc,IAAC,EAAK;gBAMjD,OAAO,GALG,IAAA,CAAK;gBAMf,IAAI,CALC,UAAC,CAAU,KAAC,EAAK,CAAE;aAMzB;iBALM,IAAA,OAAK,IAAU,KAAA,CAAM,IAAC,KAAQ,aAAA,CAAc,QAAC,EAAS;gBAM3D,OAAO,GALG,KAAA,CAAM;gBAMhB,IAAI,CALC,UAAC,CAAU,QAAC,EAAQ,CAAE;aAM5B;SACF,CACF,EALE,MAAM,OAAA,IAAW,IAAA,CAAK,UAAC,CAAU,QAAC,EAAQ,CAAE,CAAC;KAMjD;;AAJI,qBAAP,CAAA,UAAO,GAAoC;IAM3C,EALE,IAAA,EAAM,UAAA,EAAW;CAMlB,CALC;;;;AAED,qBAAD,CAAA,cAAC,GAAA,MAAA;IAQD,EAAC,IAAI,EAAE,iBAAiB,GAAG;CAC1B,CAAC;;ADzCF,MAAA,0BAAA,CAAA;;AAEgD,0BAAhD,CAAA,UAAgD,GAAoC;IADpF,EAEE,IAAA,EAAM,QAAA,EAAU,IAAA,EAAM,CAAA;gBADtB,OAAO,EAEE;oBADP,gBAAgB;oBAChB,gBAAgB,CAEC,OAAC,EAAO;iBAD1B;gBACD,OAAO,EAEE;oBADP,gBAAgB;oBAChB,gBAAgB;iBACjB;gBACD,SAAS,EAEE;oBADT,EAEE,OAAA,EAAS,iBAAA,EAAmB,QAAA,EAAU,qBAAA,EAAuB,KAAA,EAAO,IAAA,EAAK;iBAD5E;aACF,EAEC,EAAG;CADJ,CAEC;;;;AAED,0BAAD,CAAA,cAAC,GAAA,MAAA,EACA,CAAC;;ADvBF;;GAEG;;;;"}